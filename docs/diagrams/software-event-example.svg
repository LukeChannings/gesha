<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="344px" height="469px" viewBox="-0.5 -0.5 344 469"><defs/><g><path d="M 162 67 L 162 110.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162 115.88 L 158.5 108.88 L 162 110.63 L 165.5 108.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 152 147 L 152 167 Q 152 177 142 177 L 87 177 Q 77 177 77 187 L 77 200.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 77 205.88 L 73.5 198.88 L 77 200.63 L 80.5 198.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 172 147 L 172 167 Q 172 177 182 177 L 217 177 Q 227 177 227 187 L 227 200.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 227 205.88 L 223.5 198.88 L 227 200.63 L 230.5 198.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="82" y="117" width="160" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="161.5" y="134.5">Broadcast Channel</text></g><path d="M 82 297 L 82 350.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 82 355.88 L 78.5 348.88 L 82 350.63 L 85.5 348.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="52" y="207" width="60" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="81.5" y="224.5">State</text><text x="81.5" y="234.5">Controller</text></g><path d="M 227 247 L 227 267 L 227 247 L 227 260.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 227 265.88 L 223.5 258.88 L 227 260.63 L 230.5 258.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="182" y="207" width="90" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="226.5" y="224.5">Controller</text><text x="226.5" y="234.5">Manager</text></g><path d="M 82 397 L 82 430.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 82 435.88 L 78.5 428.88 L 82 430.63 L 85.5 428.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="37" y="357" width="90" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="81.5" y="379.5">MQTT API</text></g><rect x="39.5" y="437" width="85" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="81.5" y="454.5">MQTT Broker</text></g><path d="M 227 397 L 227 417 L 227 407 L 227 420.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 227 425.88 L 223.5 418.88 L 227 420.63 L 230.5 418.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="182" y="357" width="90" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="226.5" y="374.5">Poll Controller</text><text x="226.5" y="384.5">with new temperature</text></g><path d="M 227 337 L 227 357 L 227 337 L 227 350.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 227 355.88 L 223.5 348.88 L 227 350.63 L 230.5 348.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 267 302 L 287 302 L 285.63 301.97" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 290.88 302.08 L 283.81 305.44 L 285.63 301.97 L 283.95 298.44 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 227 267 L 267 302 L 227 337 L 187 302 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="226.5" y="304.5">Mode == Idle</text></g><rect x="182" y="427" width="90" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="226.5" y="449.5">Set boiler heat level</text></g><rect x="292" y="285.75" width="50" height="32.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="316.5" y="299.5">Turn off</text><text x="316.5" y="309.5">boiler</text></g><path d="M 162 67 L 162 110.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162 115.88 L 158.5 108.88 L 162 110.63 L 165.5 108.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 162 37 L 162 13.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162 8.12 L 165.5 15.12 L 162 13.37 L 158.5 15.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="162" cy="37" rx="50" ry="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="161.5" y="39.5">Poll Thermocouple</text></g><path d="M 82 247 L 82 267 L 82 247 L 82 260.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 82 265.88 L 78.5 258.88 L 82 260.63 L 85.5 258.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="52" y="267" width="60" height="30" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="8px"><text x="81.5" y="279.5">Update </text><text x="81.5" y="289.5">internal state</text></g><rect x="92" y="77" width="160" height="20" fill="rgb(255, 255, 255)" stroke="none" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="8px"><text x="172" y="90">TemperatureChange("Boiler", 69.0)</text></g><rect x="2" y="317" width="160" height="20" fill="rgb(255, 255, 255)" stroke="none" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="8px"><text x="82" y="330">TemperatureUpdate("Boiler", 69.0)</text></g><rect x="0" y="404" width="160" height="20" fill="rgb(255, 255, 255)" stroke="none" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="8px"><text x="80" y="412">Publish</text><text x="80" y="422">"gesha/temperature/boiler" = 69.0</text></g></g></svg>